"use strict";(self.webpackChunkweb_next_zigbeelight=self.webpackChunkweb_next_zigbeelight||[]).push([[635],{635:(O,l,n)=>{n.r(l),n.d(l,{SettingModule:()=>L});var g=n(9808),m=n(9979),e=n(5e3),d=n(8215),h=n(6254),c=n(9783),p=n(5330),v=n(5431),f=n(8386),x=n(7658),C=n(7010),u=n(2382),y=n(845),S=n(5787),_=n(97);const b=["divBound"],M=["divTable"];function T(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",2,3),e.NdJ("resize",function(){return e.CHM(t),e.oxw().onWindowResize()},!1,e.Jf7),e.TgZ(2,"div",4),e._UZ(3,"p-breadcrumb",5),e.TgZ(4,"div",6)(5,"h3",7),e._UZ(6,"i",8),e._uU(7,"C\xe1c C\xe0i \u0111\u1eb7t "),e.qZA()(),e.TgZ(8,"div",9,10)(10,"div",11)(11,"div",12)(12,"label",13),e._uU(13,"Chu k\u1ef3 g\u1eedi d\u1eef li\u1ec7u (ph\xfat): "),e.qZA(),e.TgZ(14,"div",14)(15,"p-inputNumber",15),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().time_interval_send_data=s}),e.qZA(),e.TgZ(16,"button",16),e.NdJ("click",function(){return e.CHM(t),e.oxw().setTimeSentData()}),e.qZA()()(),e.TgZ(17,"div",12)(18,"label",13),e._uU(19,"Th\u1eddi gian l\u01b0u tr\u1eef d\u1eef li\u1ec7u t\u1ed1i \u0111a (ng\xe0y): "),e.qZA(),e.TgZ(20,"div",14)(21,"p-inputNumber",15),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().log_expire_time=s}),e.qZA(),e.TgZ(22,"button",16),e.NdJ("click",function(){return e.CHM(t),e.oxw().setLogOnOfConfig()}),e.qZA()()()()()()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("model",t.pathLinks)("home",t.homeLink),e.xp6(12),e.Q6J("ngModel",t.time_interval_send_data)("min",1)("step",1),e.xp6(6),e.Q6J("ngModel",t.log_expire_time)("min",30)("step",1)}}function E(i,r){1&i&&(e._UZ(0,"i",24),e.TgZ(1,"span",25),e._uU(2,"B\u1ea1n kh\xf4ng c\xf3 quy\u1ec1n truy c\u1eadp v\xe0o m\u1ee5c n\xe0y!"),e.qZA())}function w(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",17)(1,"p-messages",18),e.YNc(2,E,3,0,"ng-template",19),e.qZA()(),e.TgZ(3,"div",20)(4,"div",21),e.NdJ("click",function(){return e.CHM(t),e.oxw().onGoBackHome()}),e._UZ(5,"span",22),e.TgZ(6,"span",23),e._uU(7,"Quay l\u1ea1i Trang ch\u1ee7"),e.qZA()()()}}const Z=[{path:"",component:(()=>{class i{constructor(t,o,s,a,B,W,D){this.cHttpService=t,this.messageService=o,this.renderer=s,this.dialogService=a,this.permissionService=B,this.router=W,this.userService=D}ngOnDestroy(){this.subPermission&&this.subPermission.unsubscribe()}setStyleDiv(){this.windowWidth=this.divBound.nativeElement.offsetWidth,this.renderer.setStyle(this.divTable.nativeElement,"height",`  ${this.divBound.nativeElement.offsetHeight-62}px`)}ngAfterViewInit(){this.setStyleDiv()}onWindowResize(){this.setStyleDiv()}calcWidth(){let t="";return t=this.windowWidth<576?.95*this.windowWidth+"px":this.windowWidth>=576&&this.windowWidth<768?.55*this.windowWidth+"px":this.windowWidth>=768&&this.windowWidth<992?.45*this.windowWidth+"px":this.windowWidth>=992&&this.windowWidth<1400?.4*this.windowWidth+"px":.3*this.windowWidth+"px",t}ngOnInit(){this.myAccount=this.userService.getUserFromStorage(),this.subPermission=this.permissionService.currentPermission.subscribe(t=>{t&&(this.permission=t,this.initForm(),this.getLogOnOfConfig(),this.getTimeSentData())})}initForm(){this.pathLinks=[{label:"Qu\u1ea3n l\xfd chung",disabled:!0},{label:"C\xe0i \u0111\u1eb7t",disabled:!0}],this.homeLink={icon:"fa-solid fa-home",routerLink:"/"}}getLogOnOfConfig(){this.cHttpService.getLogOnOfConfig().subscribe({next:t=>{0===t.status?this.log_expire_time=t.data.log_expire_time:2===t.status?this.onComeback():(this.messageService.add({severity:"error",summary:"L\u1ed7i",detail:`${t.message}`}),console.error("C\xf3 l\u1ed7i x\u1ea3y ra",t.message))},error:t=>{this.messageService.add({severity:"error",summary:"L\u1ed7i",detail:"C\xf3 l\u1ed7i x\u1ea3y ra, vui l\xf2ng th\u1eed l\u1ea1i"}),console.error("C\xf3 l\u1ed7i x\u1ea3y ra",t)}})}getTimeSentData(){this.cHttpService.getTimeSentData().subscribe({next:t=>{0===t.status?this.time_interval_send_data=t.data.time_interval_send_data:2===t.status?this.onComeback():(this.messageService.add({severity:"error",summary:"L\u1ed7i",detail:`${t.message}`}),console.error("C\xf3 l\u1ed7i x\u1ea3y ra",t.message))},error:t=>{this.messageService.add({severity:"error",summary:"L\u1ed7i",detail:"C\xf3 l\u1ed7i x\u1ea3y ra, vui l\xf2ng th\u1eed l\u1ea1i"}),console.error("C\xf3 l\u1ed7i x\u1ea3y ra",t)}})}setLogOnOfConfig(){this.cHttpService.setLogOnOfConfig(this.log_expire_time).subscribe({next:t=>{0===t.status?this.messageService.add({severity:"success",summary:"Th\xe0nh c\xf4ng",detail:"\u0110\xe3 c\u1eadp nh\u1eadt th\xe0nh c\xf4ng!"}):2===t.status?this.onComeback():(this.messageService.add({severity:"error",summary:"L\u1ed7i",detail:`${t.message}`}),console.error("C\xf3 l\u1ed7i x\u1ea3y ra",t.message))},error:t=>{this.messageService.add({severity:"error",summary:"L\u1ed7i",detail:"C\xf3 l\u1ed7i x\u1ea3y ra, vui l\xf2ng th\u1eed l\u1ea1i"}),console.error("C\xf3 l\u1ed7i x\u1ea3y ra",t)}})}setTimeSentData(){this.cHttpService.setTimeSentData(this.time_interval_send_data).subscribe({next:t=>{0===t.status?this.messageService.add({severity:"success",summary:"Th\xe0nh c\xf4ng",detail:"\u0110\xe3 c\u1eadp nh\u1eadt th\xe0nh c\xf4ng!"}):2===t.status?this.onComeback():(this.messageService.add({severity:"error",summary:"L\u1ed7i",detail:`${t.message}`}),console.error("C\xf3 l\u1ed7i x\u1ea3y ra",t.message))},error:t=>{this.messageService.add({severity:"error",summary:"L\u1ed7i",detail:"C\xf3 l\u1ed7i x\u1ea3y ra, vui l\xf2ng th\u1eed l\u1ea1i"}),console.error("C\xf3 l\u1ed7i x\u1ea3y ra",t)}})}onGoBackHome(){this.router.navigate(["/"])}onComeback(){localStorage.removeItem(d.o.USER),sessionStorage.removeItem(d.o.ACC),this.router.navigate(["/come-back"])}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(h.n),e.Y36(c.ez),e.Y36(e.Qsj),e.Y36(p.xA),e.Y36(v.$),e.Y36(m.F0),e.Y36(f.K))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-setting-management"]],viewQuery:function(t,o){if(1&t&&(e.Gf(b,5,e.SBq),e.Gf(M,5,e.SBq)),2&t){let s;e.iGM(s=e.CRH())&&(o.divBound=s.first),e.iGM(s=e.CRH())&&(o.divTable=s.first)}},decls:3,vars:2,consts:[["class","relative h-full w-full",3,"resize",4,"ngIf","ngIfElse"],["noPermission",""],[1,"relative","h-full","w-full",3,"resize"],["divBound",""],[1,"absolute","top-0","left-0","w-full"],["styleClass","text-sm p-1",3,"model","home"],[1,"flex","align-items-center"],[1,"text-blue-700","m-0","px-2","pt-2","pb-0"],[1,"fa-solid","fa-list","mr-2"],[1,"page-content","mt-1","border-top-1","border-gray-300"],["divTable",""],[1,"p-fluid","m-2"],[1,"field","mb-2"],["for","name"],[1,"p-inputgroup"],["mode","decimal",3,"ngModel","min","step","ngModelChange"],["type","button","pButton","","pRipple","","label","C\u1eadp nh\u1eadt",3,"click"],[1,"flex","align-items-center","justify-content-center"],["severity","error"],["pTemplate",""],[1,"flex","align-items-center","justify-content-center","cursor-pointer"],["pRipple","",1,"flex","align-items-center","justify-content-center","w-full","h-4rem","max-w-20rem","bg-blue-500","border-round-md","shadow-8","text-white","font-bold",3,"click"],[1,"fa-solid","fa-home"],[1,"text-center","text-xl","mx-2"],[1,"pi","pi-times-circle"],[1,"ml-2"]],template:function(t,o){if(1&t&&(e.YNc(0,T,23,8,"div",0),e.YNc(1,w,8,0,"ng-template",null,1,e.W1O)),2&t){const s=e.MAs(2);e.Q6J("ngIf",o.permission.setting.self)("ngIfElse",s)}},directives:[g.O5,x.a,C.Rn,u.JJ,u.On,y.Hq,S.H,_.V,c.jx],styles:[""]}),i})()}];let A=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[m.Bz.forChild(Z)],m.Bz]}),i})();var H=n(4695);let L=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[g.ez,A,H.m]]}),i})()}}]);