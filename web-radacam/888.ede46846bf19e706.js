(self.webpackChunkweb_radacam=self.webpackChunkweb_radacam||[]).push([[888],{6015:(W,P,l)=>{"use strict";l.d(P,{x:()=>I});var E=l(520),x=l(2340),e=l(5e3);let I=(()=>{class f{constructor(d){this.http=d}getList(d,u,p,b){let T=new E.LE;return T=T.append("limit",p),T=T.append("offset",b),d&&(T=T.append("monitor_id",d)),u&&(T=T.append("company_id",u)),this.http.get(`${x.N.url.BASE_URL}/device`,{params:T})}getDetail(d){return this.http.get(`${x.N.url.BASE_URL}/device/${d}`)}create(d,u){let p=new E.LE;return p=p.append("name",d),p=p.append("device_type",u),this.http.post(`${x.N.url.BASE_URL}/device`,p)}edit(d,u,p,b,T,o,U){let w=new E.LE;return u&&(w=w.append("name",u)),p&&(w=w.append("description",p)),b&&(w=w.append("ip",b)),T&&(w=w.append("edge_storage_ip",T)),o&&(w=w.append("eth_mac",o)),U&&(w=w.append("monitor_id",U)),this.http.put(`${x.N.url.BASE_URL}/device/${d}`,w)}delete(d){return this.http.delete(`${x.N.url.BASE_URL}/device/${d}`)}getLogOfOnOff(d,u,p,b,T){let o=new E.LE;return d&&(o=o.append("device_id",d)),o=o.append("limit",b),o=o.append("offset",T),(null!=u||null!=u)&&(o=o.append("time_start",u)),(null!=p||null!=p)&&(o=o.append("time_end",p)),this.http.get(`${x.N.url.BASE_URL}/device/logonoff`,{params:o})}}return f.\u0275fac=function(d){return new(d||f)(e.LFG(E.eN))},f.\u0275prov=e.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},1489:(W,P,l)=>{"use strict";l.d(P,{P:()=>I});var E=l(520),x=l(2340),e=l(5e3);let I=(()=>{class f{constructor(d){this.http=d}getList(d,u){let p=new E.LE;return p=p.append("limit",d),p=p.append("offset",u),this.http.get(`${x.N.url.BASE_URL}/monitor`,{params:p})}getDetail(d){return this.http.get(`${x.N.url.BASE_URL}/monitor/${d}`)}create(d,u){let p=new E.LE;return p=p.append("name",d),u&&(p=p.append("description",u)),this.http.post(`${x.N.url.BASE_URL}/monitor`,p)}edit(d,u,p,b,T,o,U,w,J,O,Q,B,Y,R){let C=new E.LE;return u&&(C=C.append("name",u)),p&&(C=C.append("description",p)),(null!=b||null!=b)&&(null!=T||null!=T)&&(C=C.append("latitude",b),C=C.append("longitude",T)),o>0&&(C=C.append("motorcycle_max_speed",o)),U>0&&(C=C.append("car_max_speed",U)),w&&(C=C.append("plant_id",w)),J&&(C=C.append("area_name",J)),O&&(C=C.append("area_code",O)),Q&&(C=C.append("floc_name",Q)),B&&(C=C.append("floc_code",B)),Y&&(C=C.append("aqi_monitor_id",Y)),R&&(C=C.append("aqi_monitor_name",R)),this.http.put(`${x.N.url.BASE_URL}/monitor/${d}`,C)}delete(d){return this.http.delete(`${x.N.url.BASE_URL}/monitor/${d}`)}getLogOfStation(d,u,p,b,T){let o=new E.LE;return o=o.append("limit",b),o=o.append("offset",T),(null!=u||null!=u)&&(o=o.append("time_start",u)),(null!=p||null!=p)&&(o=o.append("time_end",p)),this.http.get(`${x.N.url.BASE_URL}/monitor/${d}/log`,{params:o})}convertVideo(d){return this.http.get(`${x.N.url.BASE_URL}/monitor/log/${d}/convert`,{})}getLogUIP(d,u,p,b,T){let o=new E.LE;return o=o.append("limit",b),o=o.append("offset",T),(null!=u||null!=u)&&(o=o.append("time_start",u)),(null!=p||null!=p)&&(o=o.append("time_end",p)),this.http.get(`${x.N.url.BASE_URL}/monitor/${d}/log_uip`,{params:o})}getListAqiStation(){return this.http.get(`${x.N.url.AQI_URL}/vh/monitor `)}}return f.\u0275fac=function(d){return new(d||f)(e.LFG(E.eN))},f.\u0275prov=e.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},6675:(W,P,l)=>{"use strict";l.d(P,{I:()=>f});var E=l(1764),x=l.n(E),e=l(5268),I=l.n(e);x().extend(I());class f{static isoToVnTime(u){return u&&0!==u.length?x().utc(u).local().format("HH:mm:ss DD/MM/YYYY"):"N/A"}}},2977:(W,P,l)=>{"use strict";l.r(P),l.d(P,{DeviceModule:()=>Me});var E=l(9808),x=l(8753),e=l(5e3),I=l(6675),f=l(8215),y=l(2382),d=l(5330),u=l(6015),p=l(9783),b=l(845),T=l(5787),o=l(1424),U=l(4036);function w(n,m){1&n&&(e.TgZ(0,"div"),e._uU(1," *C\u1ea7n \u0111i\u1ec1n t\xean cho thi\u1ebft b\u1ecb."),e.qZA())}function J(n,m){1&n&&(e.TgZ(0,"div"),e._uU(1," *T\xean Tr\u1ea1m d\xe0i \xedt nh\u1ea5t 2 k\xfd t\u1ef1."),e.qZA())}function O(n,m){if(1&n&&(e.TgZ(0,"small",16),e.YNc(1,w,2,0,"div",17),e.YNc(2,J,2,0,"div",17),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.formGroup.controls.name.invalid),e.xp6(1),e.Q6J("ngIf",t.formGroup.controls.name.errors.minlength)}}let Q=(()=>{class n{constructor(t,i,s,Z,X){this.ref=t,this.config=i,this.formBuilder=s,this.dHttpService=Z,this.messageService=X,this.title="Th\xeam m\u1edbi thi\u1ebft b\u1ecb",this.typeOption=[{name:"Camera",value:"camera"},{name:"Gateway",value:"gateway"},{name:"Radar",value:"radar"},{name:"\u0110\xe8n strobe",value:"light"},{name:"M\xe0n h\xecnh",value:"ledscreen"}]}ngOnInit(){this.formGroup=this.formBuilder.group({name:["",[y.kI.required,y.kI.minLength(2)]],device_type:["",[y.kI.required]]})}onSubmit(){this.company?this.onEdit():this.onAdd()}onAdd(){this.dHttpService.create(this.formGroup.value.name,this.formGroup.value.device_type).subscribe({next:t=>{200===t.status?(this.messageService.add({severity:"success",summary:"Th\xe0nh c\xf4ng",detail:"\u0110\xe3 t\u1ea1o C\xf4ng ty th\xe0nh c\xf4ng"}),this.ref.close("success")):(this.messageService.add({severity:"error",summary:"L\u1ed7i",detail:`${t.message}`}),console.error("C\xf3 l\u1ed7i x\u1ea3y ra",t.message))},error:t=>{this.messageService.add({severity:"error",summary:"L\u1ed7i",detail:"C\xf3 l\u1ed7i x\u1ea3y ra, vui l\xf2ng th\u1eed l\u1ea1i"}),console.error("C\xf3 l\u1ed7i x\u1ea3y ra",t)}})}onEdit(){}onDestroy(){this.ref.destroy()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(d.E7),e.Y36(d.S),e.Y36(y.qu),e.Y36(u.x),e.Y36(p.ez))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-create-device"]],decls:24,vars:5,consts:[[3,"formGroup","ngSubmit"],[1,"outbound"],[1,"header","flex","align-items-center","justify-content-between","border-bottom-1","border-gray-300"],[1,"ml-2","text-xl","font-bold"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-danger","p-button-text",3,"click"],[1,"content"],[1,"p-fluid","m-2"],[1,"field","mb-2"],["for","name"],[1,"ml-2","text-red-500"],["id","name","type","text","aria-describedby","name-help","pInputText","","formControlName","name"],["id","name-help","class","text-red-500",4,"ngIf"],["formControlName","device_type","placeholder","Ch\u1ecdn lo\u1ea1i","optionLabel","name","optionValue","value","panelStyleClass","text-overflow-ellipsis text-sm",3,"options"],[1,"footer","flex","align-items-center","justify-content-end","border-top-1","border-gray-300"],["pButton","","pRipple","","type","button","label","H\u1ee7y b\u1ecf","icon","fa-solid fa-times",1,"p-button-outlined","mr-1",3,"click"],["pButton","","pRipple","","type","submit","label","L\u01b0u th\xf4ng tin","icon","fa-solid fa-floppy-disk",1,"mr-1",3,"disabled"],["id","name-help",1,"text-red-500"],[4,"ngIf"]],template:function(t,i){1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return i.onSubmit()}),e.TgZ(1,"div",1)(2,"div",2)(3,"span",3),e._uU(4),e.qZA(),e.TgZ(5,"button",4),e.NdJ("click",function(){return i.onDestroy()}),e.qZA()(),e.TgZ(6,"div",5)(7,"div",6)(8,"div",7)(9,"label",8),e._uU(10,"T\xean"),e.TgZ(11,"span",9),e._uU(12,"(*)"),e.qZA()(),e._UZ(13,"input",10),e.YNc(14,O,3,2,"small",11),e.qZA(),e.TgZ(15,"div",7)(16,"label"),e._uU(17,"Lo\u1ea1i thi\u1ebft b\u1ecb"),e.TgZ(18,"span",9),e._uU(19,"(*)"),e.qZA()(),e._UZ(20,"p-dropdown",12),e.qZA()()(),e.TgZ(21,"div",13)(22,"button",14),e.NdJ("click",function(){return i.onDestroy()}),e.qZA(),e._UZ(23,"button",15),e.qZA()()()),2&t&&(e.Q6J("formGroup",i.formGroup),e.xp6(4),e.Oqu(i.title),e.xp6(10),e.Q6J("ngIf",i.formGroup.controls.name.invalid&&i.formGroup.controls.name.touched),e.xp6(6),e.Q6J("options",i.typeOption),e.xp6(3),e.Q6J("disabled",i.formGroup.invalid))},directives:[y._Y,y.JL,y.sg,b.Hq,T.H,y.Fj,o.o,y.JJ,y.u,E.O5,U.Lt],styles:[".outbound[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0;overflow:hidden}.outbound[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:45px}.outbound[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{position:absolute;top:45px;bottom:45px;left:0;width:100%;overflow:auto}.outbound[_ngcontent-%COMP%]   .footer[_ngcontent-%COMP%]{position:absolute;bottom:0;height:45px;left:0;width:100%}"]}),n})();var B=l(5431),Y=l(3542),R=l(4416),C=l(5174),$=l(3407);const M=["divBound"],j=["divTable"],ee=["divPaginator"];function h(n,m){if(1&n){const t=e.EpF();e.TgZ(0,"input",28),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().device.monitor_id.name=s}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngModel",t.device.monitor_id.name)}}function c(n,m){1&n&&e._UZ(0,"input",29)}function a(n,m){if(1&n){const t=e.EpF();e.TgZ(0,"div",6)(1,"div",11)(2,"span"),e._uU(3,"IP:"),e.qZA()(),e.TgZ(4,"div",12)(5,"input",30),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().device.ip=s})("change",function(){return e.CHM(t),e.oxw().onChangeInfo()}),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t.device.ip)("disabled",!t.permission.device.edit||!t.editable)}}function g(n,m){if(1&n){const t=e.EpF();e.TgZ(0,"div",6)(1,"div",11)(2,"span"),e._uU(3,"MAC:"),e.qZA()(),e.TgZ(4,"div",12)(5,"input",31),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().device.eth_mac=s})("change",function(){return e.CHM(t),e.oxw().onChangeInfo()}),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t.device.eth_mac)("disabled",!t.permission.device.edit||!t.editable)}}function r(n,m){if(1&n){const t=e.EpF();e.TgZ(0,"div",6)(1,"div",11)(2,"span"),e._uU(3,"\u0110\u1ea7u ghi:"),e.qZA()(),e.TgZ(4,"div",12)(5,"input",32),e.NdJ("ngModelChange",function(s){return e.CHM(t),e.oxw().device.edge_storage_ip=s})("change",function(){return e.CHM(t),e.oxw().onChangeInfo()}),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngModel",t.device.edge_storage_ip)("disabled",!t.permission.device.edit||!t.editable)}}function _(n,m){1&n&&(e.TgZ(0,"span",33),e._uU(1,"M\u1ea5t k\u1ebft n\u1ed1i"),e.qZA())}function v(n,m){1&n&&(e.TgZ(0,"span",34),e._uU(1,"\u0110ang k\u1ebft n\u1ed1i"),e.qZA())}function D(n,m){1&n&&(e.TgZ(0,"span",33),e._uU(1,"Kh\xf4ng x\xe1c \u0111\u1ecbnh"),e.qZA())}function A(n,m){1&n&&(e.TgZ(0,"span",34),e._uU(1,"B\xecnh th\u01b0\u1eddng"),e.qZA())}function S(n,m){if(1&n){const t=e.EpF();e.TgZ(0,"button",35),e.NdJ("click",function(){return e.CHM(t),e.oxw().editDeviceInfo()}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",!t.hasChange)}}function H(n,m){if(1&n){const t=e.EpF();e.TgZ(0,"button",36),e.NdJ("click",function(){return e.CHM(t),e.oxw().onCancel()}),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("disabled",!t.hasChange)}}let q=(()=>{class n{constructor(t,i,s,Z,X,ie){this.permissionService=t,this.dHttpService=i,this.messageService=s,this.dialogService=Z,this.renderer=X,this.router=ie,this.loading=!1}ngAfterViewChecked(){this.renderer.setStyle(this.divTable.nativeElement,"height",`  ${this.divBound.nativeElement.offsetHeight-this.divPaginator.nativeElement.offsetHeight}px`)}ngOnDestroy(){this.subPermission&&this.subPermission.unsubscribe(),this.loadingTime&&clearTimeout(this.loadingTime)}ngOnInit(){this.subPermission=this.permissionService.currentPermission.subscribe(t=>{t&&(this.permission=t,this.fetchInfo())})}editDeviceInfo(){var t;this.loadingTime=setTimeout(()=>{this.loading=!0},1e3),this.dHttpService.edit(this.device._id,this.device.name,this.device.description,this.device.ip,this.device.edge_storage_ip,this.device.eth_mac,null===(t=this.device.monitor_id)||void 0===t?void 0:t._id).subscribe({next:i=>{200===i.status?(this.messageService.add({severity:"success",summary:"Th\xe0nh c\xf4ng",detail:"C\u1eadp nh\u1eadt th\xf4ng tin th\xe0nh c\xf4ng"}),this.loading=!1,this.loadingTime&&clearTimeout(this.loadingTime),this.hasChange=!1,this.fetchInfo()):2===i.status?this.onComeback():(this.messageService.add({severity:"error",summary:"L\u1ed7i",detail:`${i.message}`}),console.error("C\xf3 l\u1ed7i x\u1ea3y ra",i.message),this.loading=!1,this.loadingTime&&clearTimeout(this.loadingTime))},error:i=>{this.messageService.add({severity:"error",summary:"L\u1ed7i",detail:"C\xf3 l\u1ed7i x\u1ea3y ra, vui l\xf2ng th\u1eed l\u1ea1i"}),console.error("C\xf3 l\u1ed7i x\u1ea3y ra",i),this.loading=!1,this.loadingTime&&clearTimeout(this.loadingTime)}})}fetchInfo(){this.loadingTime=setTimeout(()=>{this.loading=!0},1e3),this.dHttpService.getDetail(this.device._id).subscribe({next:t=>{200===t.status?(this.device=t.metadata,this.loading=!1,this.loadingTime&&clearTimeout(this.loadingTime)):2===t.status?this.onComeback():(this.messageService.add({severity:"error",summary:"L\u1ed7i",detail:`${t.message}`}),console.error("C\xf3 l\u1ed7i x\u1ea3y ra",t.message),this.loading=!1,this.loadingTime&&clearTimeout(this.loadingTime))},error:t=>{this.messageService.add({severity:"error",summary:"L\u1ed7i",detail:"C\xf3 l\u1ed7i x\u1ea3y ra, vui l\xf2ng th\u1eed l\u1ea1i"}),console.error("C\xf3 l\u1ed7i x\u1ea3y ra",t),this.loading=!1,this.loadingTime&&clearTimeout(this.loadingTime)}})}onPickStation(){this.dialogService.open(R.L,{data:{station:void 0},showHeader:!1,width:"99vw",height:"99vh",contentStyle:{padding:"0",margin:0}}).onClose.subscribe(i=>{i&&(this.device.monitor_id=i,this.onChangeInfo())})}getQrCodeData(){return this.device&&this.device._id?this.device._id:"Error Code: MAC"}onChangeInfo(){this.hasChange=!0}onCancel(){this.hasChange=!1,this.fetchInfo()}onComeback(){localStorage.removeItem(f.o.USER),sessionStorage.removeItem(f.o.ACC),this.router.navigate(["/come-back"])}converTime(t){return I.I.isoToVnTime(t)}getDeviceType(t){let i="N/A";return"camera"==t?i="Camera":"gateway"==t?i="Gateway":"radar"==t?i="Radar":"light"==t?i="\u0110\xe8n strobe":"ledscreen"==t&&(i="M\xe0n h\xecnh"),i}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(B.$),e.Y36(u.x),e.Y36(p.ez),e.Y36(d.xA),e.Y36(e.Qsj),e.Y36(x.F0))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-device-info"]],viewQuery:function(t,i){if(1&t&&(e.Gf(M,5,e.SBq),e.Gf(j,5,e.SBq),e.Gf(ee,5,e.SBq)),2&t){let s;e.iGM(s=e.CRH())&&(i.divBound=s.first),e.iGM(s=e.CRH())&&(i.divTable=s.first),e.iGM(s=e.CRH())&&(i.divPaginator=s.first)}},inputs:{device:"device",editable:"editable"},decls:59,vars:23,consts:[[1,"absolute","top-0","left-0","bottom-0","right-0"],["divBound",""],[1,"absolute","top-0","left-0","w-full","overflow-auto"],["divTable",""],[1,"grid","m-1"],[1,"col-12","md:col-6"],[1,"grid"],[1,"col-12"],[1,"field"],[1,"flex","align-items-center"],[3,"qrdata","allowEmptyString","width","errorCorrectionLevel","margin"],[1,"col-12","md:col-4"],[1,"col-12","md:col-8"],["id","name","type","text","pInputText","",1,"w-full",3,"ngModel","disabled","ngModelChange","input"],["pInputTextarea","",1,"w-full",3,"rows","ngModel","disabled","ngModelChange","input"],[1,"p-inputgroup"],["type","text","pInputText","","disabled","",3,"ngModel","ngModelChange",4,"ngIf"],["type","text","pInputText","","placeholder","Kh\xf4ng c\xf3 tr\u1ea1m","disabled","",4,"ngIf"],["type","button","pButton","","pRipple","","icon","pi pi-check",3,"disabled","click"],["class","grid",4,"ngIf"],["class","p-1 bg-red-500 text-white",4,"ngIf"],["class","p-1 bg-green-500 text-white",4,"ngIf"],[1,"absolute","bottom-0","left-0","w-full","border-top-1","border-gray-300"],["divPaginator",""],[1,"grid","grid-nogutter"],[1,"col-12","flex","align-items-center","p-1"],["pButton","","pRipple","","type","button","label","L\u01b0u th\xf4ng tin","icon","fa-solid fa-pen","class","mr-1",3,"disabled","click",4,"ngIf"],["pButton","","pRipple","","type","button","label","H\u1ee7y b\u1ecf","icon","fa-solid fa-times","class","p-button-outlined",3,"disabled","click",4,"ngIf"],["type","text","pInputText","","disabled","",3,"ngModel","ngModelChange"],["type","text","pInputText","","placeholder","Kh\xf4ng c\xf3 tr\u1ea1m","disabled",""],["id","ip","type","text","pInputText","",1,"w-full",3,"ngModel","disabled","ngModelChange","change"],["id","eth_mac","type","text","pInputText","",1,"w-full",3,"ngModel","disabled","ngModelChange","change"],["id","name","type","text","pInputText","",1,"w-full",3,"ngModel","disabled","ngModelChange","change"],[1,"p-1","bg-red-500","text-white"],[1,"p-1","bg-green-500","text-white"],["pButton","","pRipple","","type","button","label","L\u01b0u th\xf4ng tin","icon","fa-solid fa-pen",1,"mr-1",3,"disabled","click"],["pButton","","pRipple","","type","button","label","H\u1ee7y b\u1ecf","icon","fa-solid fa-times",1,"p-button-outlined",3,"disabled","click"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0,1)(2,"div",2,3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"span"),e._uU(9,"M\xe3 QR:"),e.qZA(),e.TgZ(10,"div",8)(11,"div",9),e._UZ(12,"qrcode",10),e.qZA()()()(),e.TgZ(13,"div",6)(14,"div",11)(15,"span"),e._uU(16,"T\xean:"),e.qZA()(),e.TgZ(17,"div",12)(18,"input",13),e.NdJ("ngModelChange",function(Z){return i.device.name=Z})("input",function(){return i.onChangeInfo()}),e.qZA()()(),e.TgZ(19,"div",6)(20,"div",11)(21,"span"),e._uU(22,"M\xf4 t\u1ea3:"),e.qZA()(),e.TgZ(23,"div",12)(24,"textarea",14),e.NdJ("ngModelChange",function(Z){return i.device.description=Z})("input",function(){return i.onChangeInfo()}),e.qZA()()(),e.TgZ(25,"div",6)(26,"div",11)(27,"span"),e._uU(28,"Lo\u1ea1i:"),e.qZA()(),e.TgZ(29,"div",12)(30,"span"),e._uU(31),e.qZA()()(),e.TgZ(32,"div",6)(33,"div",11)(34,"span"),e._uU(35,"Thu\u1ed9c tr\u1ea1m:"),e.qZA()(),e.TgZ(36,"div",12)(37,"div",15),e.YNc(38,h,1,1,"input",16),e.YNc(39,c,1,0,"input",17),e.TgZ(40,"button",18),e.NdJ("click",function(){return i.onPickStation()}),e.qZA()()()(),e.YNc(41,a,6,2,"div",19),e.YNc(42,g,6,2,"div",19),e.YNc(43,r,6,2,"div",19),e.TgZ(44,"div",6)(45,"div",11)(46,"span"),e._uU(47,"Tr\u1ea1ng th\xe1i:"),e.qZA()(),e.TgZ(48,"div",12),e.YNc(49,_,2,0,"span",20),e.YNc(50,v,2,0,"span",21),e.YNc(51,D,2,0,"span",20),e.YNc(52,A,2,0,"span",21),e.qZA()()()()(),e.TgZ(53,"div",22,23)(55,"div",24)(56,"div",25),e.YNc(57,S,1,1,"button",26),e.YNc(58,H,1,1,"button",27),e.qZA()()()()),2&t&&(e.xp6(12),e.Q6J("qrdata",i.getQrCodeData())("allowEmptyString",!0)("width",200)("errorCorrectionLevel","L")("margin",1),e.xp6(6),e.Q6J("ngModel",i.device.name)("disabled",!i.permission.device.edit||!i.editable),e.xp6(6),e.Q6J("rows",2)("ngModel",i.device.description)("disabled",!i.permission.device.edit||!i.editable),e.xp6(7),e.Oqu(i.getDeviceType(i.device.device_type)),e.xp6(7),e.Q6J("ngIf",i.device.monitor_id),e.xp6(1),e.Q6J("ngIf",!i.device.monitor_id),e.xp6(1),e.Q6J("disabled",!i.permission.device.edit||!i.editable),e.xp6(1),e.Q6J("ngIf","camera"==i.device.device_type||"gateway"==i.device.device_type),e.xp6(1),e.Q6J("ngIf","gateway"==i.device.device_type),e.xp6(1),e.Q6J("ngIf","camera"==i.device.device_type),e.xp6(6),e.Q6J("ngIf",("camera"==i.device.device_type||"gateway"==i.device.device_type)&&0==i.device.status),e.xp6(1),e.Q6J("ngIf",("camera"==i.device.device_type||"gateway"==i.device.device_type)&&1==i.device.status),e.xp6(1),e.Q6J("ngIf",!("camera"==i.device.device_type||"gateway"==i.device.device_type)&&0==i.device.status),e.xp6(1),e.Q6J("ngIf",!("camera"==i.device.device_type||"gateway"==i.device.device_type)&&1==i.device.status),e.xp6(5),e.Q6J("ngIf",i.permission.device.edit&&i.editable),e.xp6(1),e.Q6J("ngIf",i.permission.device.edit&&i.editable))},directives:[C.V,y.Fj,o.o,y.JJ,y.On,$.g,E.O5,b.Hq,T.H],styles:[""]}),n})();var N=l(97);const G=["divBound"],z=["divHeader"],k=["divTable"];function L(n,m){if(1&n&&e._UZ(0,"app-device-info",13),2&n){const t=e.oxw(2);e.Q6J("device",t.device)("editable",t.editable)}}function F(n,m){if(1&n){const t=e.EpF();e.TgZ(0,"div",2,3),e.NdJ("resize",function(){return e.CHM(t),e.oxw().onWindowResize()},!1,e.Jf7),e.TgZ(2,"div",4,5)(4,"div",6)(5,"span",7),e._uU(6),e.qZA(),e.TgZ(7,"button",8),e.NdJ("click",function(){return e.CHM(t),e.oxw().onDestroy()}),e.qZA()(),e._UZ(8,"p-tabMenu",9),e.qZA(),e.TgZ(9,"div",10,11),e.YNc(11,L,1,2,"app-device-info",12),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(6),e.Oqu(t.title),e.xp6(2),e.Q6J("model",t.tabs)("activeItem",t.activeTab),e.xp6(3),e.Q6J("ngIf",1==t.tabIndex)}}function K(n,m){1&n&&(e._UZ(0,"i",16),e.TgZ(1,"span",17),e._uU(2,"B\u1ea1n kh\xf4ng c\xf3 quy\u1ec1n truy c\u1eadp v\xe0o m\u1ee5c n\xe0y!"),e.qZA())}function V(n,m){1&n&&(e.TgZ(0,"p-messages",14),e.YNc(1,K,3,0,"ng-template",15),e.qZA())}let ne=(()=>{class n{constructor(t,i,s,Z){this.renderer=t,this.permissionService=i,this.ref=s,this.config=Z,this.tabIndex=1,this.title="Chi ti\u1ebft Thi\u1ebft b\u1ecb"}ngOnDestroy(){this.subPermission&&this.subPermission.unsubscribe()}setStyleDiv(){this.renderer.setStyle(this.divTable.nativeElement,"height",`  ${this.divBound.nativeElement.offsetHeight-this.divHeader.nativeElement.offsetHeight}px`)}ngAfterViewInit(){this.setStyleDiv()}onWindowResize(){this.setStyleDiv()}ngOnInit(){this.subPermission=this.permissionService.currentPermission.subscribe(t=>{t&&(this.permission=t,this.config.data&&(this.config.data.device&&(this.device=this.config.data.device),this.config.data.editable&&(this.editable=this.config.data.editable),this.config.data.title&&(this.title=this.config.data.title)),this.initForm())})}initForm(){this.tabs=[{label:"Th\xf4ng tin",command:()=>{this.tabIndex=1}}],this.activeTab=this.tabs[0],this.tabIndex=1}onDestroy(){this.ref.destroy()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Qsj),e.Y36(B.$),e.Y36(d.E7),e.Y36(d.S))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-device-detail"]],viewQuery:function(t,i){if(1&t&&(e.Gf(G,5,e.SBq),e.Gf(z,5,e.SBq),e.Gf(k,5,e.SBq)),2&t){let s;e.iGM(s=e.CRH())&&(i.divBound=s.first),e.iGM(s=e.CRH())&&(i.divHeader=s.first),e.iGM(s=e.CRH())&&(i.divTable=s.first)}},decls:3,vars:2,consts:[["class","absolute top-0 left-0 bottom-0 right-0",3,"resize",4,"ngIf","ngIfElse"],["noPermission",""],[1,"absolute","top-0","left-0","bottom-0","right-0",3,"resize"],["divBound",""],[1,"absolute","top-0","left-0","w-full"],["divHeader",""],[1,"flex","align-items-center","justify-content-between","border-bottom-1","border-gray-300"],[1,"ml-2","text-xl","font-bold"],["pButton","","pRipple","","type","button","icon","pi pi-times",1,"p-button-danger","p-button-text",3,"click"],[3,"model","activeItem"],[1,"absolute","bottom-0","left-0","w-full"],["divTable",""],[3,"device","editable",4,"ngIf"],[3,"device","editable"],["severity","error"],["pTemplate",""],[1,"pi","pi-times-circle"],[1,"ml-2"]],template:function(t,i){if(1&t&&(e.YNc(0,F,12,4,"div",0),e.YNc(1,V,2,0,"ng-template",null,1,e.W1O)),2&t){const s=e.MAs(2);e.Q6J("ngIf",i.permission.device.self)("ngIfElse",s)}},directives:[E.O5,b.Hq,T.H,Y.d,q,N.V,p.jx],styles:[""]}),n})();var oe=l(9269),se=l(8386),ae=l(7658),te=l(8952),re=l(9955),ce=l(4132);const le=["divBound"],de=["divTable"],ue=["divPaginator"];function pe(n,m){1&n&&(e.TgZ(0,"tr")(1,"th",27),e._uU(2,"#"),e.qZA(),e.TgZ(3,"th",28),e._uU(4,"T\xean "),e._UZ(5,"p-sortIcon",29),e.qZA(),e.TgZ(6,"th",30),e._uU(7,"M\xf4 t\u1ea3"),e.qZA(),e.TgZ(8,"th",31),e._uU(9,"Lo\u1ea1i"),e.qZA(),e.TgZ(10,"th",32),e._uU(11,"Thu\u1ed9c tr\u1ea1m"),e.qZA(),e.TgZ(12,"th",33),e._uU(13,"Th\u1eddi gian t\u1ea1o "),e._UZ(14,"p-sortIcon",34),e.qZA(),e.TgZ(15,"th",35),e._uU(16,"C\u1eadp nh\u1eadt "),e._UZ(17,"p-sortIcon",36),e.qZA()())}function me(n,m){if(1&n&&(e.TgZ(0,"tr",37)(1,"td",27),e._uU(2),e.qZA(),e.TgZ(3,"td",32),e._uU(4),e.qZA(),e.TgZ(5,"td",30),e._uU(6),e.qZA(),e.TgZ(7,"td",31),e._uU(8),e.qZA(),e.TgZ(9,"td",32),e._uU(10),e.qZA(),e.TgZ(11,"td",32),e._uU(12),e.qZA(),e.TgZ(13,"td",32),e._uU(14),e.qZA()()),2&n){const t=m.$implicit,i=m.rowIndex,s=e.oxw(2);e.Q6J("pSelectableRow",t),e.xp6(2),e.Oqu((s.currentPage-1)*s.itemsPerPage+1+i),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Oqu(t.description),e.xp6(2),e.Oqu(s.getDeviceType(t.device_type)),e.xp6(2),e.Oqu(null==t.monitor_id?null:t.monitor_id.name),e.xp6(2),e.Oqu(s.convertTime(t.created_at)),e.xp6(2),e.Oqu(s.convertTime(t.updated_at))}}function fe(n,m){1&n&&(e.TgZ(0,"div",38),e._uU(1," Kh\xf4ng c\xf3 d\u1eef li\u1ec7u trong m\u1ee5c n\xe0y. "),e.qZA())}function he(n,m){if(1&n){const t=e.EpF();e.TgZ(0,"button",39),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).onAdd()}),e.qZA()}}function ge(n,m){if(1&n){const t=e.EpF();e.TgZ(0,"button",40),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).onEdit()}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("disabled",!t.currentDevice)}}function ve(n,m){if(1&n){const t=e.EpF();e.TgZ(0,"p-splitButton",41),e.NdJ("onClick",function(){return e.CHM(t),e.oxw(2).onViewDetail()}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("showTransitionOptions","200ms")("hideTransitionOptions","200ms")("model",t.moreCommands)("disabled",!t.currentDevice)}}const _e=function(){return[15,20,30,50]};function Te(n,m){if(1&n){const t=e.EpF();e.TgZ(0,"div",2,3),e.NdJ("resize",function(){return e.CHM(t),e.oxw().onWindowResize()},!1,e.Jf7),e.TgZ(2,"div",4),e._UZ(3,"p-breadcrumb",5),e.TgZ(4,"div",6)(5,"h3",7),e._UZ(6,"i",8),e._uU(7,"Danh s\xe1ch Thi\u1ebft b\u1ecb "),e.qZA()(),e.TgZ(8,"div",9,10)(10,"p-table",11),e.NdJ("selectionChange",function(s){return e.CHM(t),e.oxw().currentDevice=s})("onRowSelect",function(s){return e.CHM(t),e.oxw().onRowSelect(s)})("onRowUnselect",function(s){return e.CHM(t),e.oxw().onRowUnselect(s)}),e.YNc(11,pe,18,0,"ng-template",12),e.YNc(12,me,15,8,"ng-template",13),e.YNc(13,fe,2,0,"ng-template",14),e.qZA()()(),e.TgZ(14,"div",15,16)(16,"div",17)(17,"div",18),e.YNc(18,he,1,0,"button",19),e.YNc(19,ge,1,1,"button",20),e.YNc(20,ve,1,4,"p-splitButton",21),e.qZA(),e.TgZ(21,"div",22)(22,"p-paginator",23),e.NdJ("onPageChange",function(s){return e.CHM(t),e.oxw().onPageChange(s)}),e.qZA()(),e.TgZ(23,"div",24)(24,"button",25),e.NdJ("click",function(){return e.CHM(t),e.oxw().onReSync()}),e.qZA(),e.TgZ(25,"span",26),e._uU(26),e.qZA()()()()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("model",t.pathLinks)("home",t.homeLink),e.xp6(7),e.Q6J("selection",t.currentDevice)("value",t.devices)("scrollable",!0)("loading",t.loading),e.xp6(8),e.Q6J("ngIf",t.permission.device.create),e.xp6(1),e.Q6J("ngIf",t.permission.device.edit),e.xp6(1),e.Q6J("ngIf",t.permission.device.self),e.xp6(2),e.Q6J("rows",t.itemsPerPage)("totalRecords",t.totalItems)("rowsPerPageOptions",e.DdM(17,_e))("showJumpToPageDropdown",!0)("showPageLinks",!1),e.xp6(4),e.lnq("Hi\u1ec3n th\u1ecb ",(t.currentPage-1)*t.itemsPerPage+1,"-",(t.currentPage-1)*t.itemsPerPage+t.itemsPerPage>t.totalItems?t.totalItems:(t.currentPage-1)*t.itemsPerPage+t.itemsPerPage,"/",t.totalItems,"")}}function Ce(n,m){1&n&&(e._UZ(0,"i",49),e.TgZ(1,"span",50),e._uU(2,"B\u1ea1n kh\xf4ng c\xf3 quy\u1ec1n truy c\u1eadp v\xe0o m\u1ee5c n\xe0y!"),e.qZA())}function be(n,m){if(1&n){const t=e.EpF();e.TgZ(0,"div",42)(1,"p-messages",43),e.YNc(2,Ce,3,0,"ng-template",44),e.qZA()(),e.TgZ(3,"div",45)(4,"div",46),e.NdJ("click",function(){return e.CHM(t),e.oxw().onGoBackHome()}),e._UZ(5,"span",47),e.TgZ(6,"span",48),e._uU(7,"Quay l\u1ea1i Trang ch\u1ee7"),e.qZA()()()}}const De=[{path:"",component:(()=>{class n{constructor(t,i,s,Z,X,ie,we,Ee){this.dHttpService=t,this.messageService=i,this.renderer=s,this.dialogService=Z,this.permissionService=X,this.router=ie,this.confirmService=we,this.userService=Ee,this.offset=0,this.totalItems=0,this.itemsPerPage=15,this.currentPage=1,this.devices=[],this.loading=!1}ngOnDestroy(){this.subPermission&&this.subPermission.unsubscribe(),this.loadingTime&&clearTimeout(this.loadingTime)}setStyleDiv(){this.windowWidth=this.divBound.nativeElement.offsetWidth,this.renderer.setStyle(this.divTable.nativeElement,"height",`  ${this.divBound.nativeElement.offsetHeight-this.divPaginator.nativeElement.offsetHeight-62}px`)}ngAfterViewInit(){this.setStyleDiv()}onWindowResize(){this.setStyleDiv()}calcWidth(){let t="";return t=this.windowWidth<576?.95*this.windowWidth+"px":this.windowWidth>=576&&this.windowWidth<768?.55*this.windowWidth+"px":this.windowWidth>=768&&this.windowWidth<992?.45*this.windowWidth+"px":this.windowWidth>=992&&this.windowWidth<1400?.4*this.windowWidth+"px":.3*this.windowWidth+"px",t}ngOnInit(){this.myAccount=this.userService.getUserFromStorage(),this.subPermission=this.permissionService.currentPermission.subscribe(t=>{t&&(this.permission=t,this.initForm(),this.fetchListOfDevices())})}initForm(){this.pathLinks=[{label:"Qu\u1ea3n l\xfd",disabled:!0},{label:"Thi\u1ebft b\u1ecb",disabled:!0}],this.homeLink={icon:"fa-solid fa-home",routerLink:"/"},this.moreCommands=[{label:"X\xf3a b\u1ecf",icon:"fa-solid fa-minus",disabled:!0,command:()=>{this.onDelete()}}]}fetchListOfDevices(){this.loadingTime=setTimeout(()=>{this.loading=!0},1e3),this.dHttpService.getList(void 0,void 0,this.itemsPerPage,this.offset).subscribe({next:t=>{200===t.status?(this.devices=t.metadata.docs,this.totalItems=t.metadata.total,this.loading=!1,this.loadingTime&&clearTimeout(this.loadingTime),this.currentDevice=void 0):2===t.status?this.onComeback():(this.messageService.add({severity:"error",summary:"L\u1ed7i",detail:`${t.message}`}),console.error("C\xf3 l\u1ed7i x\u1ea3y ra",t.message),this.loading=!1,this.loadingTime&&clearTimeout(this.loadingTime))},error:t=>{this.messageService.add({severity:"error",summary:"L\u1ed7i",detail:"C\xf3 l\u1ed7i x\u1ea3y ra, vui l\xf2ng th\u1eed l\u1ea1i"}),console.error("C\xf3 l\u1ed7i x\u1ea3y ra",t),this.loading=!1,this.loadingTime&&clearTimeout(this.loadingTime)}})}onPageChange(t){this.currentPage=t.page+1,this.itemsPerPage=t.rows,this.offset=(this.currentPage-1)*this.itemsPerPage,this.fetchListOfDevices()}onReSync(){this.fetchListOfDevices()}onRowSelect(t){this.moreCommands[0].disabled=!this.permission.device.delete||!this.currentDevice}onRowUnselect(t){this.moreCommands[0].disabled=!this.permission.device.delete||!this.currentDevice}onAdd(){this.dialogService.open(Q,{showHeader:!1,height:"420px",width:this.calcWidth(),contentStyle:{padding:"0",margin:0}}).onClose.subscribe(()=>{this.fetchListOfDevices()})}onEdit(){this.dialogService.open(ne,{data:{device:this.currentDevice,title:"C\u1eadp nh\u1eadt thi\u1ebft b\u1ecb",editable:!0},showHeader:!1,width:"99vw",height:"99vh",contentStyle:{padding:"0",margin:0}}).onDestroy.subscribe(()=>{this.fetchListOfDevices()})}onViewDetail(){this.dialogService.open(ne,{data:{device:this.currentDevice},showHeader:!1,width:"99vw",height:"99vh",contentStyle:{padding:"0",margin:0}})}onDelete(){this.confirmService.confirm({message:`B\u1ea1n c\xf3 mu\u1ed1n x\xf3a Tr\u1ea1m "${this.currentDevice.name}" kh\xf4ng?`,header:"X\xe1c nh\u1eadn x\xf3a Tr\u1ea1m quan tr\u1eafc",icon:"pi pi-info-circle"}).then(t=>{t&&this.dHttpService.delete(this.currentDevice._id).subscribe({next:i=>{200===i.status?(this.fetchListOfDevices(),this.messageService.add({severity:"success",summary:"Th\xe0nh c\xf4ng",detail:"\u0110\xe3 x\xf3a Tr\u1ea1m quan tr\u1eafc th\xe0nh c\xf4ng"})):2===i.status?this.onComeback():(this.messageService.add({severity:"error",summary:"L\u1ed7i",detail:`${i.message}`}),console.error("C\xf3 l\u1ed7i x\u1ea3y ra",i.message))},error:i=>{this.messageService.add({severity:"error",summary:"L\u1ed7i",detail:"C\xf3 l\u1ed7i x\u1ea3y ra, vui l\xf2ng th\u1eed l\u1ea1i"}),console.error("C\xf3 l\u1ed7i x\u1ea3y ra",i)}})}).catch(t=>{})}convertTime(t){return I.I.isoToVnTime(t)}onGoBackHome(){this.router.navigate(["/"])}getDeviceType(t){let i="N/A";return"camera"==t?i="Camera":"gateway"==t?i="Gateway":"radar"==t?i="Radar":"light"==t?i="\u0110\xe8n strobe":"ledscreen"==t&&(i="M\xe0n h\xecnh"),i}onComeback(){localStorage.removeItem(f.o.USER),sessionStorage.removeItem(f.o.ACC),this.router.navigate(["/come-back"])}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(u.x),e.Y36(p.ez),e.Y36(e.Qsj),e.Y36(d.xA),e.Y36(B.$),e.Y36(x.F0),e.Y36(oe.I),e.Y36(se.K))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-device-management"]],viewQuery:function(t,i){if(1&t&&(e.Gf(le,5,e.SBq),e.Gf(de,5,e.SBq),e.Gf(ue,5,e.SBq)),2&t){let s;e.iGM(s=e.CRH())&&(i.divBound=s.first),e.iGM(s=e.CRH())&&(i.divTable=s.first),e.iGM(s=e.CRH())&&(i.divPaginator=s.first)}},decls:3,vars:2,consts:[["class","relative h-full w-full",3,"resize",4,"ngIf","ngIfElse"],["noPermission",""],[1,"relative","h-full","w-full",3,"resize"],["divBound",""],[1,"absolute","top-0","left-0","w-full"],["styleClass","text-sm p-1",3,"model","home"],[1,"flex","align-items-center"],[1,"text-blue-700","m-0","px-2","pt-2","pb-0"],[1,"fa-solid","fa-list","mr-2"],[1,"page-content","mt-1"],["divTable",""],["selectionMode","single","styleClass","p-datatable-sm p-datatable-striped","scrollHeight","flex",3,"selection","value","scrollable","loading","selectionChange","onRowSelect","onRowUnselect"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"absolute","bottom-0","left-0","w-full","border-top-1","border-gray-300"],["divPaginator",""],[1,"grid","grid-nogutter"],[1,"col-12","md:col-5","flex","align-items-center"],["pButton","","pRipple","","type","button","label","Th\xeam","icon","fa-solid fa-plus","class","mx-1",3,"click",4,"ngIf"],["pButton","","pRipple","","type","button","label","Ch\u1ec9nh s\u1eeda","icon","fa-solid fa-pen","class","mr-1",3,"disabled","click",4,"ngIf"],["label","Chi ti\u1ebft","icon","fa-solid fa-wand-sparkles",3,"showTransitionOptions","hideTransitionOptions","model","disabled","onClick",4,"ngIf"],[1,"col-12","md:col-5","flex","align-items-center","justify-content-end"],["styleClass","p-0",3,"rows","totalRecords","rowsPerPageOptions","showJumpToPageDropdown","showPageLinks","onPageChange"],[1,"col-12","md:col-2","flex","align-items-center"],["pButton","","pRipple","","type","button","icon","fa-solid fa-sync",1,"p-button-raised","p-button-text","m-0","p-1",3,"click"],[1,"ml-1"],[2,"width","60px","max-width","60px"],["pSortableColumn","name",2,"min-width","200px"],["field","name"],[2,"min-width","300px"],[2,"min-width","100px"],[2,"min-width","200px"],["pSortableColumn","created_at",2,"min-width","200px"],["field","created_at"],["pSortableColumn","updated_at",2,"min-width","200px"],["field","updated_at"],[3,"pSelectableRow"],[1,"p-fluid","p-2"],["pButton","","pRipple","","type","button","label","Th\xeam","icon","fa-solid fa-plus",1,"mx-1",3,"click"],["pButton","","pRipple","","type","button","label","Ch\u1ec9nh s\u1eeda","icon","fa-solid fa-pen",1,"mr-1",3,"disabled","click"],["label","Chi ti\u1ebft","icon","fa-solid fa-wand-sparkles",3,"showTransitionOptions","hideTransitionOptions","model","disabled","onClick"],[1,"flex","align-items-center","justify-content-center"],["severity","error"],["pTemplate",""],[1,"flex","align-items-center","justify-content-center","cursor-pointer"],["pRipple","",1,"flex","align-items-center","justify-content-center","w-full","h-4rem","max-w-20rem","bg-blue-500","border-round-md","shadow-8","text-white","font-bold",3,"click"],[1,"fa-solid","fa-home"],[1,"text-center","text-xl","mx-2"],[1,"pi","pi-times-circle"],[1,"ml-2"]],template:function(t,i){if(1&t&&(e.YNc(0,Te,27,18,"div",0),e.YNc(1,be,8,0,"ng-template",null,1,e.W1O)),2&t){const s=e.MAs(2);e.Q6J("ngIf",i.permission.device.self)("ngIfElse",s)}},directives:[E.O5,ae.a,te.iA,p.jx,te.lQ,te.fz,te.Ei,b.Hq,T.H,re.a,ce.D,N.V],styles:[""]}),n})()}];let xe=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[x.Bz.forChild(De)],x.Bz]}),n})();var ye=l(8772);let Me=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[E.ez,xe,ye.m]]}),n})()},1764:function(W){W.exports=function(){"use strict";var l=6e4,E=36e5,x="millisecond",e="second",I="minute",f="hour",y="day",d="week",u="month",p="quarter",b="year",T="date",o="Invalid Date",U=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,w=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,J={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(h){var c=["th","st","nd","rd"],a=h%100;return"["+h+(c[(a-20)%10]||c[a]||c[0])+"]"}},O=function(h,c,a){var g=String(h);return!g||g.length>=c?h:""+Array(c+1-g.length).join(a)+h},Q={s:O,z:function(h){var c=-h.utcOffset(),a=Math.abs(c),g=Math.floor(a/60),r=a%60;return(c<=0?"+":"-")+O(g,2,"0")+":"+O(r,2,"0")},m:function h(c,a){if(c.date()<a.date())return-h(a,c);var g=12*(a.year()-c.year())+(a.month()-c.month()),r=c.clone().add(g,u),_=a-r<0,v=c.clone().add(g+(_?-1:1),u);return+(-(g+(a-r)/(_?r-v:v-r))||0)},a:function(h){return h<0?Math.ceil(h)||0:Math.floor(h)},p:function(h){return{M:u,y:b,w:d,d:y,D:T,h:f,m:I,s:e,ms:x,Q:p}[h]||String(h||"").toLowerCase().replace(/s$/,"")},u:function(h){return void 0===h}},B="en",Y={};Y[B]=J;var R=function(h){return h instanceof j},C=function h(c,a,g){var r;if(!c)return B;if("string"==typeof c){var _=c.toLowerCase();Y[_]&&(r=_),a&&(Y[_]=a,r=_);var v=c.split("-");if(!r&&v.length>1)return h(v[0])}else{var D=c.name;Y[D]=c,r=D}return!g&&r&&(B=r),r||!g&&B},$=function(h,c){if(R(h))return h.clone();var a="object"==typeof c?c:{};return a.date=h,a.args=arguments,new j(a)},M=Q;M.l=C,M.i=R,M.w=function(h,c){return $(h,{locale:c.$L,utc:c.$u,x:c.$x,$offset:c.$offset})};var j=function(){function h(a){this.$L=C(a.locale,null,!0),this.parse(a)}var c=h.prototype;return c.parse=function(a){this.$d=function(g){var r=g.date,_=g.utc;if(null===r)return new Date(NaN);if(M.u(r))return new Date;if(r instanceof Date)return new Date(r);if("string"==typeof r&&!/Z$/i.test(r)){var v=r.match(U);if(v){var D=v[2]-1||0,A=(v[7]||"0").substring(0,3);return _?new Date(Date.UTC(v[1],D,v[3]||1,v[4]||0,v[5]||0,v[6]||0,A)):new Date(v[1],D,v[3]||1,v[4]||0,v[5]||0,v[6]||0,A)}}return new Date(r)}(a),this.$x=a.x||{},this.init()},c.init=function(){var a=this.$d;this.$y=a.getFullYear(),this.$M=a.getMonth(),this.$D=a.getDate(),this.$W=a.getDay(),this.$H=a.getHours(),this.$m=a.getMinutes(),this.$s=a.getSeconds(),this.$ms=a.getMilliseconds()},c.$utils=function(){return M},c.isValid=function(){return this.$d.toString()!==o},c.isSame=function(a,g){var r=$(a);return this.startOf(g)<=r&&r<=this.endOf(g)},c.isAfter=function(a,g){return $(a)<this.startOf(g)},c.isBefore=function(a,g){return this.endOf(g)<$(a)},c.$g=function(a,g,r){return M.u(a)?this[g]:this.set(r,a)},c.unix=function(){return Math.floor(this.valueOf()/1e3)},c.valueOf=function(){return this.$d.getTime()},c.startOf=function(a,g){var r=this,_=!!M.u(g)||g,v=M.p(a),D=function(k,L){var F=M.w(r.$u?Date.UTC(r.$y,L,k):new Date(r.$y,L,k),r);return _?F:F.endOf(y)},A=function(k,L){return M.w(r.toDate()[k].apply(r.toDate("s"),(_?[0,0,0,0]:[23,59,59,999]).slice(L)),r)},S=this.$W,H=this.$M,q=this.$D,N="set"+(this.$u?"UTC":"");switch(v){case b:return _?D(1,0):D(31,11);case u:return _?D(1,H):D(0,H+1);case d:var G=this.$locale().weekStart||0,z=(S<G?S+7:S)-G;return D(_?q-z:q+(6-z),H);case y:case T:return A(N+"Hours",0);case f:return A(N+"Minutes",1);case I:return A(N+"Seconds",2);case e:return A(N+"Milliseconds",3);default:return this.clone()}},c.endOf=function(a){return this.startOf(a,!1)},c.$set=function(a,g){var r,_=M.p(a),v="set"+(this.$u?"UTC":""),D=(r={},r[y]=v+"Date",r[T]=v+"Date",r[u]=v+"Month",r[b]=v+"FullYear",r[f]=v+"Hours",r[I]=v+"Minutes",r[e]=v+"Seconds",r[x]=v+"Milliseconds",r)[_],A=_===y?this.$D+(g-this.$W):g;if(_===u||_===b){var S=this.clone().set(T,1);S.$d[D](A),S.init(),this.$d=S.set(T,Math.min(this.$D,S.daysInMonth())).$d}else D&&this.$d[D](A);return this.init(),this},c.set=function(a,g){return this.clone().$set(a,g)},c.get=function(a){return this[M.p(a)]()},c.add=function(a,g){var r,_=this;a=Number(a);var v=M.p(g),D=function(H){var q=$(_);return M.w(q.date(q.date()+Math.round(H*a)),_)};if(v===u)return this.set(u,this.$M+a);if(v===b)return this.set(b,this.$y+a);if(v===y)return D(1);if(v===d)return D(7);var A=(r={},r[I]=l,r[f]=E,r[e]=1e3,r)[v]||1,S=this.$d.getTime()+a*A;return M.w(S,this)},c.subtract=function(a,g){return this.add(-1*a,g)},c.format=function(a){var g=this,r=this.$locale();if(!this.isValid())return r.invalidDate||o;var _=a||"YYYY-MM-DDTHH:mm:ssZ",v=M.z(this),D=this.$H,A=this.$m,S=this.$M,H=r.weekdays,q=r.months,N=function(L,F,K,V){return L&&(L[F]||L(g,_))||K[F].slice(0,V)},G=function(L){return M.s(D%12||12,L,"0")},z=r.meridiem||function(L,F,K){var V=L<12?"AM":"PM";return K?V.toLowerCase():V},k={YY:String(this.$y).slice(-2),YYYY:this.$y,M:S+1,MM:M.s(S+1,2,"0"),MMM:N(r.monthsShort,S,q,3),MMMM:N(q,S),D:this.$D,DD:M.s(this.$D,2,"0"),d:String(this.$W),dd:N(r.weekdaysMin,this.$W,H,2),ddd:N(r.weekdaysShort,this.$W,H,3),dddd:H[this.$W],H:String(D),HH:M.s(D,2,"0"),h:G(1),hh:G(2),a:z(D,A,!0),A:z(D,A,!1),m:String(A),mm:M.s(A,2,"0"),s:String(this.$s),ss:M.s(this.$s,2,"0"),SSS:M.s(this.$ms,3,"0"),Z:v};return _.replace(w,function(L,F){return F||k[L]||v.replace(":","")})},c.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},c.diff=function(a,g,r){var _,v=M.p(g),D=$(a),A=(D.utcOffset()-this.utcOffset())*l,S=this-D,H=M.m(this,D);return H=(_={},_[b]=H/12,_[u]=H,_[p]=H/3,_[d]=(S-A)/6048e5,_[y]=(S-A)/864e5,_[f]=S/E,_[I]=S/l,_[e]=S/1e3,_)[v]||S,r?H:M.a(H)},c.daysInMonth=function(){return this.endOf(u).$D},c.$locale=function(){return Y[this.$L]},c.locale=function(a,g){if(!a)return this.$L;var r=this.clone(),_=C(a,g,!0);return _&&(r.$L=_),r},c.clone=function(){return M.w(this.$d,this)},c.toDate=function(){return new Date(this.valueOf())},c.toJSON=function(){return this.isValid()?this.toISOString():null},c.toISOString=function(){return this.$d.toISOString()},c.toString=function(){return this.$d.toUTCString()},h}(),ee=j.prototype;return $.prototype=ee,[["$ms",x],["$s",e],["$m",I],["$H",f],["$W",y],["$M",u],["$y",b],["$D",T]].forEach(function(h){ee[h[1]]=function(c){return this.$g(c,h[0],h[1])}}),$.extend=function(h,c){return h.$i||(h(c,j,$),h.$i=!0),$},$.locale=C,$.isDayjs=R,$.unix=function(h){return $(1e3*h)},$.en=Y[B],$.Ls=Y,$.p={},$}()},5268:function(W){W.exports=function(){"use strict";var P="minute",l=/[+-]\d\d(?::?\d\d)?/g,E=/([+-]|\d\d)/g;return function(x,e,I){var f=e.prototype;I.utc=function(o){return new e({date:o,utc:!0,args:arguments})},f.utc=function(o){var U=I(this.toDate(),{locale:this.$L,utc:!0});return o?U.add(this.utcOffset(),P):U},f.local=function(){return I(this.toDate(),{locale:this.$L,utc:!1})};var y=f.parse;f.parse=function(o){o.utc&&(this.$u=!0),this.$utils().u(o.$offset)||(this.$offset=o.$offset),y.call(this,o)};var d=f.init;f.init=function(){if(this.$u){var o=this.$d;this.$y=o.getUTCFullYear(),this.$M=o.getUTCMonth(),this.$D=o.getUTCDate(),this.$W=o.getUTCDay(),this.$H=o.getUTCHours(),this.$m=o.getUTCMinutes(),this.$s=o.getUTCSeconds(),this.$ms=o.getUTCMilliseconds()}else d.call(this)};var u=f.utcOffset;f.utcOffset=function(o,U){var w=this.$utils().u;if(w(o))return this.$u?0:w(this.$offset)?u.call(this):this.$offset;if("string"==typeof o&&null===(o=function(B){void 0===B&&(B="");var Y=B.match(l);if(!Y)return null;var R=(""+Y[0]).match(E)||["-",0,0],$=60*+R[1]+ +R[2];return 0===$?0:"+"===R[0]?$:-$}(o)))return this;var J=Math.abs(o)<=16?60*o:o,O=this;if(U)return O.$offset=J,O.$u=0===o,O;if(0!==o){var Q=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(O=this.local().add(J+Q,P)).$offset=J,O.$x.$localOffset=Q}else O=this.utc();return O};var p=f.format;f.format=function(o){return p.call(this,o||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":""))},f.valueOf=function(){var o=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*o},f.isUTC=function(){return!!this.$u},f.toISOString=function(){return this.toDate().toISOString()},f.toString=function(){return this.toDate().toUTCString()};var b=f.toDate;f.toDate=function(o){return"s"===o&&this.$offset?I(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():b.call(this)};var T=f.diff;f.diff=function(o,U,w){if(o&&this.$u===o.$u)return T.call(this,o,U,w);var J=this.local(),O=I(o).local();return T.call(J,O,U,w)}}}()}}]);