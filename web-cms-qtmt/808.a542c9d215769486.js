(self.webpackChunkweb_cms_qtmt=self.webpackChunkweb_cms_qtmt||[]).push([[808],{6015:(Z,N,y)=>{"use strict";y.d(N,{x:()=>U});var Y=y(520),_=y(2340),A=y(5e3);let U=(()=>{class h{constructor($){this.http=$}getList($,d,c){let o=new Y.LE;return o=o.append("limit",d),o=o.append("offset",c),$&&o.append("device_id",$),this.http.get(`${_.N.url.BASE_URL}/monitor`,{params:o})}getDetail($){return this.http.get(`${_.N.url.BASE_URL}/monitor/${$}`)}getLogOfDevice($,d,c,o,g){let n=new Y.LE;return n=n.append("limit",o),n=n.append("offset",g),d&&c&&(n=n.append("time_start",d),n=n.append("time_end",c)),this.http.get(`${_.N.url.BASE_URL}/monitor/${$}/log`,{params:n})}getLogStateOfDevice($,d,c,o,g){let n=new Y.LE;return n=n.append("limit",o),n=n.append("offset",g),d&&c&&(n=n.append("time_start",d),n=n.append("time_end",c)),this.http.get(`${_.N.url.BASE_URL}/monitor/${$}/log_onoff`,{params:n})}getLogWarningOfDevice($,d,c,o,g,n,O,C){let D=new Y.LE;return d&&(D=D.append("mac",d)),(null!=c||null!=c)&&(D=D.append("state",c)),(null!=o||null!=o)&&(D=D.append("parameter_name",o)),D=D.append("limit",O),D=D.append("offset",C),g&&n&&(D=D.append("time_start",g),D=D.append("time_end",n)),this.http.get(`${_.N.url.BASE_URL}/monitor/${$}/warning`,{params:D})}create($,d){let c=new Y.LE;return c=c.append("name",$),c=c.append("mac",d),this.http.post(`${_.N.url.BASE_URL}/monitor`,c)}edit($,d,c,o,g,n,O,C,D,L,R){let l=new Y.LE;return d&&(l=l.append("name",d)),c&&(l=l.append("mac",c)),o&&(l=l.append("description",o)),(null!=g||null!=g)&&(null!=n||null!=n)&&(l=l.append("latitude",g),l=l.append("longitude",n)),O&&(l=l.append("plant_id",O)),C&&(l=l.append("area_name",C)),D&&(l=l.append("area_code",D)),L&&(l=l.append("floc_name",L)),R&&(l=l.append("floc_code",R)),this.http.put(`${_.N.url.BASE_URL}/monitor/${$}`,l)}config($,d,c,o,g,n,O,C,D,L,R,l,w,P,b,M,v,k,z,r,u,e,s,i,a,f,p,S,m,E,B,W,j,K,F,T,I){let t=new Y.LE;return(null!=d||null!=d)&&(t=t.append("aqi_min",d)),(null!=c||null!=c)&&(t=t.append("pm25_min",c)),(null!=o||null!=o)&&(t=t.append("pm10_min",o)),(null!=g||null!=g)&&(t=t.append("co_min",g)),(null!=n||null!=n)&&(t=t.append("so2_min",n)),(null!=O||null!=O)&&(t=t.append("no2_min",O)),(null!=C||null!=C)&&(t=t.append("o3_min",C)),(null!=D||null!=D)&&(t=t.append("temperature_min",D)),(null!=L||null!=L)&&(t=t.append("humidity_min",L)),(null!=R||null!=R)&&(t=t.append("wind_min",R)),(null!=l||null!=l)&&(t=t.append("tsp_min",l)),(null!=w||null!=w)&&(t=t.append("pb_min",w)),(null!=P||null!=P)&&(t=t.append("aqi_max",P)),(null!=b||null!=b)&&(t=t.append("pm25_max",b)),(null!=M||null!=M)&&(t=t.append("pm10_max",M)),(null!=v||null!=v)&&(t=t.append("co_max",v)),(null!=k||null!=k)&&(t=t.append("so2_max",k)),(null!=z||null!=z)&&(t=t.append("no2_max",z)),(null!=r||null!=r)&&(t=t.append("o3_max",r)),(null!=u||null!=u)&&(t=t.append("temperature_max",u)),(null!=e||null!=e)&&(t=t.append("humidity_max",e)),(null!=s||null!=s)&&(t=t.append("wind_max",s)),(null!=i||null!=i)&&(t=t.append("tsp_max",i)),(null!=a||null!=a)&&(t=t.append("pb_max",a)),(null!=f||null!=f)&&(t=t.append("aqi_warning",f)),(null!=p||null!=p)&&(t=t.append("pm25_warning",p)),(null!=S||null!=S)&&(t=t.append("pm10_warning",S)),(null!=m||null!=m)&&(t=t.append("co_warning",m)),(null!=E||null!=E)&&(t=t.append("so2_warning",E)),(null!=B||null!=B)&&(t=t.append("no2_warning",B)),(null!=W||null!=W)&&(t=t.append("o3_warning",W)),(null!=j||null!=j)&&(t=t.append("temperature_warning",j)),(null!=K||null!=K)&&(t=t.append("humidity_warning",K)),(null!=F||null!=F)&&(t=t.append("wind_warning",F)),(null!=T||null!=T)&&(t=t.append("tsp_warning",T)),(null!=I||null!=I)&&(t=t.append("pb_warning",I)),this.http.put(`${_.N.url.BASE_URL}/monitor/${$}/warning_config`,t)}delete($){return this.http.delete(`${_.N.url.BASE_URL}/monitor/${$}`)}}return h.\u0275fac=function($){return new($||h)(A.LFG(Y.eN))},h.\u0275prov=A.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),h})()},6675:(Z,N,y)=>{"use strict";y.d(N,{I:()=>h,Q:()=>H});var Y=y(1764),_=y.n(Y),A=y(5268),U=y.n(A);_().extend(U());class h{static isoToVnTime(d){return d&&0!==d.length?_().utc(d).local().format("HH:mm:ss DD/MM/YYYY"):"N/A"}}class H{static toDigis(d,c){if(d)return d.toLocaleString("en-us",{minimumFractionDigits:c,maximumFractionDigits:c});if(0==d){let o="";for(let g=0;g<c;g++)o+="0";return c?`0.${o}`:"0"}return"---"}}},1764:function(Z){Z.exports=function(){"use strict";var y=6e4,Y=36e5,_="millisecond",A="second",U="minute",h="hour",H="day",$="week",d="month",c="quarter",o="year",g="date",n="Invalid Date",O=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,C=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,D={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(r){var u=["th","st","nd","rd"],e=r%100;return"["+r+(u[(e-20)%10]||u[e]||u[0])+"]"}},L=function(r,u,e){var s=String(r);return!s||s.length>=u?r:""+Array(u+1-s.length).join(e)+r},R={s:L,z:function(r){var u=-r.utcOffset(),e=Math.abs(u),s=Math.floor(e/60),i=e%60;return(u<=0?"+":"-")+L(s,2,"0")+":"+L(i,2,"0")},m:function r(u,e){if(u.date()<e.date())return-r(e,u);var s=12*(e.year()-u.year())+(e.month()-u.month()),i=u.clone().add(s,d),a=e-i<0,f=u.clone().add(s+(a?-1:1),d);return+(-(s+(e-i)/(a?i-f:f-i))||0)},a:function(r){return r<0?Math.ceil(r)||0:Math.floor(r)},p:function(r){return{M:d,y:o,w:$,d:H,D:g,h,m:U,s:A,ms:_,Q:c}[r]||String(r||"").toLowerCase().replace(/s$/,"")},u:function(r){return void 0===r}},l="en",w={};w[l]=D;var P=function(r){return r instanceof k},b=function r(u,e,s){var i;if(!u)return l;if("string"==typeof u){var a=u.toLowerCase();w[a]&&(i=a),e&&(w[a]=e,i=a);var f=u.split("-");if(!i&&f.length>1)return r(f[0])}else{var p=u.name;w[p]=u,i=p}return!s&&i&&(l=i),i||!s&&l},M=function(r,u){if(P(r))return r.clone();var e="object"==typeof u?u:{};return e.date=r,e.args=arguments,new k(e)},v=R;v.l=b,v.i=P,v.w=function(r,u){return M(r,{locale:u.$L,utc:u.$u,x:u.$x,$offset:u.$offset})};var k=function(){function r(e){this.$L=b(e.locale,null,!0),this.parse(e)}var u=r.prototype;return u.parse=function(e){this.$d=function(s){var i=s.date,a=s.utc;if(null===i)return new Date(NaN);if(v.u(i))return new Date;if(i instanceof Date)return new Date(i);if("string"==typeof i&&!/Z$/i.test(i)){var f=i.match(O);if(f){var p=f[2]-1||0,S=(f[7]||"0").substring(0,3);return a?new Date(Date.UTC(f[1],p,f[3]||1,f[4]||0,f[5]||0,f[6]||0,S)):new Date(f[1],p,f[3]||1,f[4]||0,f[5]||0,f[6]||0,S)}}return new Date(i)}(e),this.$x=e.x||{},this.init()},u.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},u.$utils=function(){return v},u.isValid=function(){return this.$d.toString()!==n},u.isSame=function(e,s){var i=M(e);return this.startOf(s)<=i&&i<=this.endOf(s)},u.isAfter=function(e,s){return M(e)<this.startOf(s)},u.isBefore=function(e,s){return this.endOf(s)<M(e)},u.$g=function(e,s,i){return v.u(e)?this[s]:this.set(i,e)},u.unix=function(){return Math.floor(this.valueOf()/1e3)},u.valueOf=function(){return this.$d.getTime()},u.startOf=function(e,s){var i=this,a=!!v.u(s)||s,f=v.p(e),p=function(F,T){var I=v.w(i.$u?Date.UTC(i.$y,T,F):new Date(i.$y,T,F),i);return a?I:I.endOf(H)},S=function(F,T){return v.w(i.toDate()[F].apply(i.toDate("s"),(a?[0,0,0,0]:[23,59,59,999]).slice(T)),i)},m=this.$W,E=this.$M,B=this.$D,W="set"+(this.$u?"UTC":"");switch(f){case o:return a?p(1,0):p(31,11);case d:return a?p(1,E):p(0,E+1);case $:var j=this.$locale().weekStart||0,K=(m<j?m+7:m)-j;return p(a?B-K:B+(6-K),E);case H:case g:return S(W+"Hours",0);case h:return S(W+"Minutes",1);case U:return S(W+"Seconds",2);case A:return S(W+"Milliseconds",3);default:return this.clone()}},u.endOf=function(e){return this.startOf(e,!1)},u.$set=function(e,s){var i,a=v.p(e),f="set"+(this.$u?"UTC":""),p=(i={},i[H]=f+"Date",i[g]=f+"Date",i[d]=f+"Month",i[o]=f+"FullYear",i[h]=f+"Hours",i[U]=f+"Minutes",i[A]=f+"Seconds",i[_]=f+"Milliseconds",i)[a],S=a===H?this.$D+(s-this.$W):s;if(a===d||a===o){var m=this.clone().set(g,1);m.$d[p](S),m.init(),this.$d=m.set(g,Math.min(this.$D,m.daysInMonth())).$d}else p&&this.$d[p](S);return this.init(),this},u.set=function(e,s){return this.clone().$set(e,s)},u.get=function(e){return this[v.p(e)]()},u.add=function(e,s){var i,a=this;e=Number(e);var f=v.p(s),p=function(E){var B=M(a);return v.w(B.date(B.date()+Math.round(E*e)),a)};if(f===d)return this.set(d,this.$M+e);if(f===o)return this.set(o,this.$y+e);if(f===H)return p(1);if(f===$)return p(7);var S=(i={},i[U]=y,i[h]=Y,i[A]=1e3,i)[f]||1,m=this.$d.getTime()+e*S;return v.w(m,this)},u.subtract=function(e,s){return this.add(-1*e,s)},u.format=function(e){var s=this,i=this.$locale();if(!this.isValid())return i.invalidDate||n;var a=e||"YYYY-MM-DDTHH:mm:ssZ",f=v.z(this),p=this.$H,S=this.$m,m=this.$M,E=i.weekdays,B=i.months,W=function(T,I,t,J){return T&&(T[I]||T(s,a))||t[I].slice(0,J)},j=function(T){return v.s(p%12||12,T,"0")},K=i.meridiem||function(T,I,t){var J=T<12?"AM":"PM";return t?J.toLowerCase():J},F={YY:String(this.$y).slice(-2),YYYY:this.$y,M:m+1,MM:v.s(m+1,2,"0"),MMM:W(i.monthsShort,m,B,3),MMMM:W(B,m),D:this.$D,DD:v.s(this.$D,2,"0"),d:String(this.$W),dd:W(i.weekdaysMin,this.$W,E,2),ddd:W(i.weekdaysShort,this.$W,E,3),dddd:E[this.$W],H:String(p),HH:v.s(p,2,"0"),h:j(1),hh:j(2),a:K(p,S,!0),A:K(p,S,!1),m:String(S),mm:v.s(S,2,"0"),s:String(this.$s),ss:v.s(this.$s,2,"0"),SSS:v.s(this.$ms,3,"0"),Z:f};return a.replace(C,function(T,I){return I||F[T]||f.replace(":","")})},u.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},u.diff=function(e,s,i){var a,f=v.p(s),p=M(e),S=(p.utcOffset()-this.utcOffset())*y,m=this-p,E=v.m(this,p);return E=(a={},a[o]=E/12,a[d]=E,a[c]=E/3,a[$]=(m-S)/6048e5,a[H]=(m-S)/864e5,a[h]=m/Y,a[U]=m/y,a[A]=m/1e3,a)[f]||m,i?E:v.a(E)},u.daysInMonth=function(){return this.endOf(d).$D},u.$locale=function(){return w[this.$L]},u.locale=function(e,s){if(!e)return this.$L;var i=this.clone(),a=b(e,s,!0);return a&&(i.$L=a),i},u.clone=function(){return v.w(this.$d,this)},u.toDate=function(){return new Date(this.valueOf())},u.toJSON=function(){return this.isValid()?this.toISOString():null},u.toISOString=function(){return this.$d.toISOString()},u.toString=function(){return this.$d.toUTCString()},r}(),z=k.prototype;return M.prototype=z,[["$ms",_],["$s",A],["$m",U],["$H",h],["$W",H],["$M",d],["$y",o],["$D",g]].forEach(function(r){z[r[1]]=function(u){return this.$g(u,r[0],r[1])}}),M.extend=function(r,u){return r.$i||(r(u,k,M),r.$i=!0),M},M.locale=b,M.isDayjs=P,M.unix=function(r){return M(1e3*r)},M.en=w[l],M.Ls=w,M.p={},M}()},5268:function(Z){Z.exports=function(){"use strict";var N="minute",y=/[+-]\d\d(?::?\d\d)?/g,Y=/([+-]|\d\d)/g;return function(_,A,U){var h=A.prototype;U.utc=function(n){return new A({date:n,utc:!0,args:arguments})},h.utc=function(n){var O=U(this.toDate(),{locale:this.$L,utc:!0});return n?O.add(this.utcOffset(),N):O},h.local=function(){return U(this.toDate(),{locale:this.$L,utc:!1})};var H=h.parse;h.parse=function(n){n.utc&&(this.$u=!0),this.$utils().u(n.$offset)||(this.$offset=n.$offset),H.call(this,n)};var $=h.init;h.init=function(){if(this.$u){var n=this.$d;this.$y=n.getUTCFullYear(),this.$M=n.getUTCMonth(),this.$D=n.getUTCDate(),this.$W=n.getUTCDay(),this.$H=n.getUTCHours(),this.$m=n.getUTCMinutes(),this.$s=n.getUTCSeconds(),this.$ms=n.getUTCMilliseconds()}else $.call(this)};var d=h.utcOffset;h.utcOffset=function(n,O){var C=this.$utils().u;if(C(n))return this.$u?0:C(this.$offset)?d.call(this):this.$offset;if("string"==typeof n&&null===(n=function(l){void 0===l&&(l="");var w=l.match(y);if(!w)return null;var P=(""+w[0]).match(Y)||["-",0,0],M=60*+P[1]+ +P[2];return 0===M?0:"+"===P[0]?M:-M}(n)))return this;var D=Math.abs(n)<=16?60*n:n,L=this;if(O)return L.$offset=D,L.$u=0===n,L;if(0!==n){var R=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(L=this.local().add(D+R,N)).$offset=D,L.$x.$localOffset=R}else L=this.utc();return L};var c=h.format;h.format=function(n){return c.call(this,n||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":""))},h.valueOf=function(){var n=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*n},h.isUTC=function(){return!!this.$u},h.toISOString=function(){return this.toDate().toISOString()},h.toString=function(){return this.toDate().toUTCString()};var o=h.toDate;h.toDate=function(n){return"s"===n&&this.$offset?U(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():o.call(this)};var g=h.diff;h.diff=function(n,O,C){if(n&&this.$u===n.$u)return g.call(this,n,O,C);var D=this.local(),L=U(n).local();return g.call(D,L,O,C)}}}()}}]);